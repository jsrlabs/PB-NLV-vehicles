<system name="Pitch Guidance Table">
    
  
  <channel name="Pitch Guidance Table">

    <fcs_function name="system/guidance/t_prime_sec">
      <function>
        <quotient>
          <property> simulation/sim-time-sec </property>
          <difference>
            <property> guidance/constant/total_burn_time </property>
            <property> guidance/constant/grav_turn_time </property>
          </difference>            
        </quotient>
      </function>
    </fcs_function>

    <summer name="system/guidance/pitch-error-rad">
      <bias>   1.57 </bias>
      <input>  system/guidance/pitch/cmd-from-rate </input>
      <input> -attitude/theta-rad </input>
    </summer>

    <pid name="system/guidance/pitch-rate" type="standard">
      <input> system/guidance/pitch-error-rad </input>
      <kp>  10.5 </kp>
      <ki>  0.0 </ki>
      <kd>  0.0  </kd>
      <clipto>
        <min> -11.873 </min> 
        <max>  11.873 </max>
      </clipto>
    </pid>

    <integrator name="system/guidance/pitch/cmd-from-rate">
      <input> system/guidance/pitch/pitch_rate_cmd </input>
      <c1> 1.0 </c1>
    </integrator>

    <fcs_function name="system/guidance/pitch/pitch_rate_cmd">
      <function>
	<product>
	  <property> system/guidance/pitch/pitch_rate_cmd_table </property>
	  <difference>
	    <value> 1 </value>
	    <property> system/guidance/coast </property>
	  </difference>
	</product>
      </function>
    </fcs_function>

    <fcs_function name="system/guidance/pitch/pitch_rate_cmd_table">
      <function>
        <table>
          <independentVar lookup="row"> system/guidance/t_prime_sec </independentVar>
          <tableData>
   0.0   -0.000211190634697
   0.1   -0.00166570981785
   0.2   -0.00204719061437
   0.3   -0.0244989388148
   0.4   -8.23127593829e-05
   0.5   -6.13178446672e-05
   0.6   -1.89696844882e-05
   0.7   -0.000988774926519
   0.8   -0.00641713615536
   0.9   -0.00572007118588
   1.0   -0.00311829787048
</tableData>
        </table>
      </function>
    </fcs_function>
    <fcs_function name="system/guidance/pitch/pitch_rate_cmd_table_20">
      <function>
        <table>
          <independentVar lookup="row"> system/guidance/t_prime_sec </independentVar>
          <tableData>
   0.0   -0.000660552213137
   0.05   -0.000752640178364
   0.1   -0.00254866727252
   0.15   -0.00299118332088
   0.2   -0.0052567562939
   0.25   -0.00578532499728
   0.3   -0.00309853846989
   0.35   -0.00651618978415
   0.4   -0.00605385674079
   0.45   -0.00432441700259
   0.5   -0.00519413856528
   0.55   -0.00613391746591
   0.6   0.000209228324045
   0.65   0.000163044151414
   0.7   0.000145554419025
   0.75   0.000130352779135
   0.8   -0.00312807011386
   0.85   -0.00333070790958
   0.9   -0.00218461231703
   0.95   -0.00236601415034
   1.0   -0.00128700280045
</tableData>
        </table>
      </function>
    </fcs_function>
    <fcs_function name="system/guidance/pitch/pitch_rate_cmd_table10_-1452.25623068">
      <function>
        <table>
          <independentVar lookup="row"> system/guidance/t_prime_sec </independentVar>
          <tableData>
   0.0   -0.000629264522146
   0.1   -0.00369105453894
   0.2   -0.00568282739273
   0.3   -0.00480618164243
   0.4   -0.00587940062509
   0.5   -0.00735521393416
   0.6   0.000154233754226
   0.7   0.000133919767801
   0.8   -0.00275990009954
   0.9   -0.00208995212019
   1.0   -0.0015920486573
</tableData>
        </table>
      </function>
    </fcs_function>
      
  </channel>
    
</system>